<html>

<head>
  <meta name='viewport' content='width=device-width, initial-scale=1, user-scalable=no' />
  <title>StockID Monitor</title>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
  <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js'></script>
  <style type='text/css'>
    body {
      padding: 35px;
      background-color: #222222;
    }

    h1 {
      color: #FFFFFF;
      font-family: sans-serif;
    }

    p {
      color: #EEEEEE;
      font-family: sans-serif;
      font-size: 18px;
    }
  </style>
</head>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 inserted">
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"> <a href="/"> <button type="button" class="btn btn-success" href="/">Inicio</button> </a> </li>
          <li class="breadcrumb-item"> <button type="button" class="btn btn-success active" href="#">Monitoramento</button> </li>
          <li class="breadcrumb-item"> <a href="#"><button type="button" class="btn btn-success">Cadastro</button> </a> </li>
        </ol>
      </nav>
    </div>
  </div>
</div>

<body>
  <h1>StockID Monitor</h1>
  <p id='leitura_mfrc522'>ID da Tag: </p>
</body>
<script type='text/javascript'>
  refresh();
  setInterval(refresh, 2000);

  function refresh() {
    refreshLeitura_MFRC522();
  }

  function refreshLeitura_MFRC522() {
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
      if (xmlhttp.readyState == XMLHttpRequest.DONE && xmlhttp.status == 200) {
        document.getElementById('leitura_mfrc522').innerHTML = 'ID da Tag: ' + JSON.parse(xmlhttp.responseText).leitura_mfrc522;
      }
    };
    xmlhttp.open('GET', 'http://10.0.0.200/leitura_mfrc522', true);
    xmlhttp.send();
  }
</script>

</html>
